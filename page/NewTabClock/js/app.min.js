function Clock(){this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.day=this.days[(new Date).getDay()],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.clockType=localStorage.clockType||"hr12",this.currentTime=new Date,this.el={settingsBtn:this.id("open-settings"),settingsRadios:document.getElementsByName("clocktype"),time:this.id("time")}}window,window.document,Clock.prototype={init:function(){this.setClockType(),this.setDateText(),this.setClock(),this.bindEvents();const t=this;setInterval((function(){t.checkTime.call(t),t.setDateText.call(t)}),200)},id:function(t){if(t)return document.getElementById(t)},bindEvents:function(){const t=this,e=t.el;e.settingsBtn.addEventListener("mouseup",t.toggleSettings.bind(t)),e.settingsRadios.forEach((function(e){e.addEventListener("click",t.changeClock.bind(t))}))},toggleSettings:function(t){if(t.stopPropagation(),t.keyCode&&32!==t.keyCode&&13!==t.keyCode)return!1;this.el.settingsBtn.classList.toggle("active"),this.el.settingsRadios.forEach((function(t){t.checked&&t.focus()}))},changeClock:function(t){t.stopPropagation(),this.setClockType(t.target.id),this.checkTime(!0)},setClockType:function(t){void 0===t?this.id(this.clockType).checked=!0:(localStorage.clockType=t,this.clockType=t)},setDateText:function(){var t=new Date,e=this.days[t.getDay()],i=this.months[t.getMonth()],s=e+" "+t.getDate()+" "+i;this.id("date").innerHTML!==s&&(this.id("date").innerHTML=s)},checkTime:function(t){var e=this,i=new Date,s=(i-e.currentTime)/1e3;!t&&s<1||(e.currentTime=i,e.setClock())},setClock:function(){const t=new Date;switch(this.el.time.className=this.clockType+"-clock",this.clockType){case"hr24":this.setHr24Clock(t);break;case"hr12":this.setHr12Clock(t);break;case"analogue":this.setAnalogueClock(t)}},formatZero:function(t){return t<10?"0"+t:t},setHr24Clock:function(t){var e='<h1 id="digital-clock">'+this.formatZero(t.getHours())+":"+this.formatZero(t.getMinutes())+"<small>"+this.formatZero(t.getSeconds())+"</small></h1>";this.el.time.innerHTML=e},setHr12Clock:function(t){var e=t.getHours(),i="am";e>11&&(12!==e&&(e-=12),i="pm"),0===e&&(e=12);var s='<h1 id="digital-clock"><span>'+i+"</span>"+e+":"+this.formatZero(t.getMinutes())+"<small>"+this.formatZero(t.getSeconds())+"</small></h1>";this.el.time.innerHTML=s},setAnalogueClock:function(t){const e=360*(12+t.getHours()%12)/12+30*t.getMinutes()/60,i=6*t.getMinutes()+t.getSeconds()/10,s=6*t.getSeconds();var n=0===s?"0s":"";if(null===this.id("hour-hand")){var o='<div id="hour-hand" style="transform: rotate('+e+'deg)"></div><div id="minute-hand" style="transform: rotate('+i+'deg)"></div><div id="second-hand" style="transform: rotate('+s+'deg)"></div>';this.el.time.innerHTML=o}else{this.id("hour-hand").style.webkitTransform="rotate("+e+"deg)",this.id("minute-hand").style.webkitTransform="rotate("+i+"deg)";var c=this.id("second-hand");c.style.webkitTransform="rotate("+s+"deg)",c.style.webkitTransitionDuration=n}}};const clock=new Clock;clock.init();